<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ribas Capital | Simulador e Portal</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        /* CSS para garantir visibilidade das linhas e ajustes de layout */
        .tabela-estilizada, #tabela-dados {
            border-collapse: collapse;
            width: 100%;
            margin-top: 15px;
            background-color: white;
        }
        
        .tabela-estilizada th, .tabela-estilizada td, 
        #tabela-dados th, #tabela-dados td {
            border: 1px solid #e2e8f0 !important;
            padding: 12px;
            text-align: left;
            color: #1e293b;
        }

        .tabela-estilizada th, #tabela-dados th {
            background-color: #f8fafc;
            font-weight: 600;
        }

        /* Grid de Destaques (Patrimônio e Ganho) */
        .patrimonio-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .patrimonio-total-container {
            background: #1e293b;
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border-left: 5px solid #00b386;
        }
        
        .patrimonio-total-container.ganho-card {
            border-left: 5px solid #3b82f6; /* Cor azul para o ganho */
        }

        .patrimonio-total-container span { 
            font-size: 0.85rem; 
            opacity: 0.8; 
            text-transform: uppercase; 
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .patrimonio-total-container h2 { font-size: 2.2rem; margin: 5px 0; color: #00b386; }
        .patrimonio-total-container.ganho-card h2 { color: #3b82f6; }

        /* Ícone de Informação */
        .info-icon {
            cursor: help;
            background: #64748b;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 0.7rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: 8px;
            font-weight: bold;
        }

        /* Percentuais colados e alinhamento */
        .stat-card { white-space: nowrap; }
        .stat-card strong { margin-left: 5px; color: #00b386; }
        
        .chart-container { position: relative; height: 40vh; width: 100%; margin: 20px 0; }
        
        .btn-limpar { cursor: pointer; border: none; transition: 0.3s; }
        .btn-limpar:hover { opacity: 0.8; }

        /* Ajuste para telas pequenas */
        @media (max-width: 600px) {
            .patrimonio-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<nav class="tab-navigation">
    <button class="tab-link active" onclick="switchTab(event, 'tab-ferramentas')">Ferramentas Financeiras</button>
    <button class="tab-link" onclick="switchTab(event, 'tab-educacao')">Aprenda a Investir</button>
    <button class="tab-link" onclick="switchTab(event, 'tab-renda')">Renda Extra</button>
    <button class="tab-link" onclick="switchTab(event, 'tab-sobre')">Sobre a Ribas</button>
</nav>

<div id="tab-ferramentas" class="tab-content active">
    <header class="hero">
        <div class="hero-content">
            <h1>Simulador de Juros Compostos</h1>
            <p>Descubra o poder do tempo no seu patrimônio.</p>
            <a href="#simulador-container" class="hero-button">Começar Simulação</a>
        </div>
    </header>

    <main id="simulador-container" class="simulador">
        <div class="card" id="area-simulador">
            <div class="grid-inputs">
                <div class="campo"><label>Valor Inicial (R$)</label><input type="number" id="valorInicial" placeholder="Ex: 1000"></div>
                <div class="campo"><label>Aporte Mensal (R$)</label><input type="number" id="aporteMensal" placeholder="Ex: 500"></div>
                <div class="campo"><label>Taxa Mensal (%)</label><input type="number" id="taxa" placeholder="Ex: 1" step="0.1"></div>
                <div class="campo"><label>Tempo (meses)</label><input type="number" id="tempo" placeholder="Ex: 120"></div>
                <div class="campo">
                    <label>Comparador:</label>
                    <select id="comparador">
                        <option value="0.005">Poupança (0,5% a.m.)</option>
                        <option value="0.0037">Inflação / IPCA (Média)</option>
                    </select>
                </div>
            </div>

            <div class="botoes-container" style="display: flex; gap: 10px; flex-wrap: wrap; margin: 20px 0;">
                <button onclick="calcular()" style="flex: 2;">Calcular Investimento</button>
                <button onclick="limpar()" class="btn-limpar" style="flex: 1; background: #64748b; color: white;">Limpar</button>
            </div>

            <div id="cards-resumo"></div>
            
            <div class="chart-container">
                <canvas id="grafico"></canvas>
            </div>

            <div id="tabela-evolucao-container" style="display: none; margin-top: 30px; overflow-x: auto;">
                <table id="tabela-dados">
                    <thead>
                        <tr>
                            <th>Mês</th>
                            <th>Total Investido</th>
                            <th>Juros</th>
                            <th>Acumulado</th>
                        </tr>
                    </thead>
                    <tbody id="corpo-tabela"></tbody>
                </table>
            </div>

            <button id="btn-exportar-pdf" onclick="exportarPDF()" class="btn-pdf" style="display: none; margin-top: 20px;">
                Baixar Relatório em PDF
            </button>
        </div>
    </main>
</div>

<div id="tab-educacao" class="tab-content">
    <div class="container-extra">
        <h2 style="color: #00b386; margin-bottom: 30px;">Portal de Educação Financeira</h2>
        <div class="menu-educacao">
            <button class="btn-tema active" onclick="abrirCategoria('cat-intro', this)">Introdução</button>
            <button class="btn-tema" onclick="abrirCategoria('cat-rendafixa', this)">Renda Fixa</button>
            <button class="btn-tema" onclick="abrirCategoria('cat-rendavariavel', this)">Renda Variável</button>
        </div>
        <div id="area-leitura">
            <article id="pg-intro" class="pagina-artigo active">
                <div class="artigo-completo">
                    <h2>O que é Investir?</h2>
                    <p>Investir é o ato de aplicar recursos com a expectativa de obter um retorno futuro superior ao valor aplicado.</p>
                </div>
            </article>
        </div>
    </div>
</div>

<div id="tab-renda" class="tab-content">
    <div class="container-extra">
        <h2 style="color: #00b386;">Renda Extra</h2>
        <div class="artigo-completo">
            <p>Aumentar seus aportes é o segredo para a liberdade financeira antecipada.</p>
        </div>
    </div>
</div>

<div id="tab-sobre" class="tab-content">
    <div class="container-extra">
        <h2 style="color: #00b386; margin-bottom: 30px;">Ribas Capital</h2>

        <div class="menu-educacao">
            <button class="btn-tema active" onclick="abrirSubSobre('sobre-empresa', this)">A Empresa</button>
            <button class="btn-tema" onclick="abrirSubSobre('sobre-carteira', this)">Minha Carteira</button>
        </div>

        <div id="area-sobre" style="margin-top: 30px;">
            <article id="sobre-empresa" class="sub-sobre-content">
                <div class="artigo-completo">
                    <h3>Nossa História</h3>
                    <p>A <strong>Ribas Capital</strong> nasceu para simplificar o mercado financeiro para você.</p>
                </div>
            </article>

            <article id="sobre-carteira" class="sub-sobre-content" style="display:none;">
                <div class="artigo-completo">
                    <h3>Dashboard Ribas Capital</h3>
                    
                    <div class="patrimonio-grid">
                        <div class="patrimonio-total-container">
                            <span>Patrimônio Total Atualizado</span>
                            <h2 id="valor-patrimonio-total">R$ 0,00</h2>
                        </div>

                        <div class="patrimonio-total-container ganho-card">
                            <span>
                                Ganho Acumulado
                                <div class="info-icon" title="Cálculo: (Vendas - Compras) + Proventos + Patrimônio Atual = Ganho Acumulado">?</div>
                            </span>
                            <h2 id="valor-ganho-acumulado">R$ 0,00</h2>
                        </div>
                    </div>

                    <div class="stats-grid" style="margin: 20px 0;">
                        <div class="stat-card"><span>RENDA FIXA</span><strong id="perc-rf">--%</strong></div><div class="stat-card"><span>IMÓVEIS/FIIs</span><strong id="perc-fii">--%</strong></div><div class="stat-card"><span>EMPRESAS BR</span><strong id="perc-acoes">--%</strong></div><div class="stat-card"><span>EMPRESAS EUA</span><strong id="perc-internacional">--%</strong></div><div class="stat-card"><span>CRIPTO</span><strong id="perc-cripto">--%</strong></div>
                    </div>

                    <p id="nota-dolar" style="font-size: 0.8rem; color: #64748b; margin-bottom: 15px; font-style: italic;"></p>

                    <h4>Ativos em Tempo Real</h4>
                    <div style="overflow-x: auto;">
                        <table class="tabela-estilizada">
                            <thead>
                                <tr>
                                    <th>Classe</th>
                                    <th>Ativo</th>
                                    <th>Saldo Atualizado</th>
                                </tr>
                            </thead>
                            <tbody id="corpo-tabela-carteira"></tbody>
                        </table>
                    </div>
                </div>
            </article>
        </div>
    </div>
</div>

<footer class="footer-site" style="margin-top: 50px; padding: 20px; text-align: center; color: #94a3b8; font-size: 0.9rem;">
    <p>&copy; 2026 Ribas Capital. Todos os direitos reservados.</p>
</footer>

<script src="script.js"></script>
</body>
</html>